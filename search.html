<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SUSearch - Word Search Game</title>


<style> /* This part is CSS coding */
        /* May as well consider this the front-end set up*/

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body { /* Styling for the page */
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #1e3c1e 0%, #2d5a2d 100%);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }

  h1 { /* Main title */
    font-size: 56px;
    color: #90ee90;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    margin-bottom: 20px;
    letter-spacing: 2px;
  }

  .game { /* Game container */ 
    display: flex;
    gap: 30px;
    align-items: flex-start;
  }

  .left-panel { /* Left side with button, timer, and grid */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
  }

  .start-button { /* Start button styling */
    background: #4CAF50;
    color: white;
    border: none;
    padding: 12px 30px;
    font-size: 18px;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
    font-weight: bold;
  }

  .start-button:hover { /* Hover effect */
    background: #45a049;
    transform: translateY(-2px);
    box-shadow: 0 6px 8px rgba(0,0,0,0.3);
  }

  .start-button:disabled { /* Disabled state */
    background: #666;
    cursor: not-allowed;
    transform: none;
  }

  .timer { /* Timer display */
    font-size: 28px;
    font-weight: bold;
    color: #90ee90;
    background: rgba(0,0,0,0.3);
    padding: 10px 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }

  table { /* Styles the whole grid */
    border-collapse: collapse;
    user-select: none;
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 8px 16px rgba(0,0,0,0.3);
  }

  td { /* Styles each letter cell within the grid */
    width: 40px;
    height: 40px;
    border: 1px solid #4CAF50;
    text-align: center;
    font-size: 20px;
    cursor: pointer;
    background: white;
    transition: background 0.2s ease;
    font-weight: bold;
    color: #2d5a2d;
  }

  td:hover { /* Hover effect on cells */
    background: #f0f0f0;
  }

  td.selected { background: #81c784; color: white; } /* Style for selected letters (light green) */
  td.found { background: #4CAF50; color: white; } /* Style for found words (dark green) */

  .words-container { /* Container for word list */
    background: rgba(255,255,255,0.95);
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 8px 16px rgba(0,0,0,0.3);
    width: 200px;
  }

  .words-container h3 { /* Word list heading */
    color: #2d5a2d;
    margin-bottom: 15px;
    font-size: 20px;
  }

  .word-list-scroll { /* Scrollable container */
    max-height: 300px;
    overflow-y: auto;
    padding-right: 10px;
  }

  .word-list-scroll::-webkit-scrollbar { /* Scrollbar width */
    width: 8px;
  }

  .word-list-scroll::-webkit-scrollbar-track { /* Scrollbar track */
    background: #f1f1f1;
    border-radius: 4px;
  }

  .word-list-scroll::-webkit-scrollbar-thumb { /* Scrollbar thumb */
    background: #4CAF50;
    border-radius: 4px;
  }

  .word-list-scroll::-webkit-scrollbar-thumb:hover { /* Scrollbar thumb hover */
    background: #45a049;
  }

  #wordList { /* Word list styling */
    list-style: none;
  }

  #wordList li { /* Individual word items */
    padding: 8px 12px;
    margin-bottom: 8px;
    background: #e8f5e9;
    border-radius: 4px;
    color: #2d5a2d;
    font-weight: bold;
    transition: all 0.3s ease;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px;
  }

  .clue-text { /* Clue text styling */
    flex: 1;
  }

  .word-revealed { /* Revealed word styling */
    color: #4CAF50;
    font-style: italic;
  }

  .reveal-btn { /* Reveal button styling */
    background: #4CAF50;
    color: white;
    border: none;
    padding: 4px 10px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 12px;
    font-weight: bold;
    transition: all 0.2s ease;
  }

  .reveal-btn:hover { /* Reveal button hover */
    background: #45a049;
    transform: scale(1.05);
  }

  .reveal-btn:disabled { /* Disabled reveal button */
    background: #ccc;
    cursor: not-allowed;
    transform: none;
  }

  .found-word { /* Strikes through a found word */
    text-decoration: line-through;
    background: #4CAF50 !important;
    color: white !important;
  }

  /* Victory Modal */
  .modal { /* Modal overlay */
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.7);
    animation: fadeIn 0.3s ease;
  }

  @keyframes fadeIn { /* Fade in animation */
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .modal-content { /* Modal content box */
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    margin: 15% auto;
    padding: 40px;
    border-radius: 16px;
    width: 400px;
    text-align: center;
    box-shadow: 0 16px 32px rgba(0,0,0,0.5);
    animation: slideIn 0.4s ease;
    color: white;
  }

  @keyframes slideIn { /* Slide in animation */
    from {
      transform: translateY(-50px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .modal-content h2 { /* Victory heading */
    font-size: 42px;
    margin-bottom: 20px;
  }

  .modal-content p { /* Victory time */
    font-size: 24px;
    margin-bottom: 30px;
  }

  .modal-content button { /* Play again button */
    background: white;
    color: #4CAF50;
    border: none;
    padding: 12px 30px;
    font-size: 18px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
  }

  .modal-content button:hover { /* Play again button hover */
    transform: scale(1.05);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  }
</style> <!-- Ends CSS Styling -->
</head>

<body> <!-- Now it's time to start making the visible content-->

<h1>SUSearch</h1> <!-- Main title -->

<div class="game"> <!-- Main game container, the grid -->
  <div class="left-panel"> <!-- Left side panel -->
    <button class="start-button" id="startBtn">Start Game</button> <!-- Start button -->
    <div class="timer" id="timer">Time: 00:00</div> <!-- Timer text -->
    <table id="grid"></table> <!-- Empty table for the grid, will be filled later -->
  </div>

  <div class="words-container"> <!-- The words to find, displayed on the right -->
    <h3>Find these words:</h3>
    <div class="word-list-scroll"> <!-- Scrollable word list -->
      <ul id="wordList"></ul>
    </div>
  </div>
</div>

<!-- Victory Modal -->
<div id="victoryModal" class="modal"> <!-- Modal overlay -->
  <div class="modal-content"> <!-- Modal content -->
    <h2>ðŸŽ‰ Congratulations! ðŸŽ‰</h2>
    <p id="victoryTime">Time: 00:00</p> <!-- Victory time display -->
    <button onclick="location.reload()">Play Again</button> <!-- Reload button -->
  </div>
</div>

<script> // Time to start JavaScript
/* ================= SETTINGS ================= */

const size = 8;
const words = ["HTML", "JAVA", "CSS", "CODE", "WEB"];
const clues = [
  "Markup language for creating web pages",
  "Popular programming language for web development",
  "Style sheet language used for describing the presentation of a document",
  "What programmers do to create software",
  "The collection of web pages and resources"
];
const directions = [
  [0, 1], // Horizontal
  [1, 0], // Vertical
  [1, 1], // y = -x
  [-1, 1] // y = x
];

let foundCount = 0; // How many words have been found
let revealedCount = 0; // How many words have been revealed via clue buttons
let gameStarted = false; // Track if game has started

/* ================= TIMER ================= */

let seconds = 0; 
let timerInterval = null; // Timer interval reference

const startBtn = document.getElementById("startBtn"); // Get start button
const timer = document.getElementById("timer"); // Get timer element

startBtn.addEventListener("click", () => { // Start button click handler
  if (!gameStarted) { // Only start once
    gameStarted = true;
    startBtn.disabled = true; // Disable button
    startBtn.textContent = "Game Started!"; // Update button text
    
    timerInterval = setInterval(() => { //Runs every second
      seconds++;
      const m = String(Math.floor(seconds / 60)).padStart(2, "0");
      const s = String(seconds % 60).padStart(2, "0");
      timer.textContent = `Time: ${m}:${s}`;
    }, 1000); //Update display
  }
});

/* ================= GRID ================= */

  //Creates the grid rows and columns, then fill with nothing for now
const grid = Array(size).fill().map(() => Array(size).fill(""));

function placeWord(word) { //Places the word
  let placed = false;
  while (!placed) { //Keep trying to place the word

    //start by setting a random direction, x coord, y coord
    const [dr, dc] = directions[Math.floor(Math.random() * directions.length)];
    const r0 = Math.floor(Math.random() * size);
    const c0 = Math.floor(Math.random() * size);

    let ok = true; // Assume it fits for now

    for (let i = 0; i < word.length; i++) { // Check each letter of the word
      const r = r0 + dr * i;
      const c = c0 + dc * i;
      if ( //If out of bounds or there's conflicting letters,
        r < 0 || c < 0 || r >= size || c >= size ||
        (grid[r][c] && grid[r][c] !== word[i])
      ) {
        ok = false; //Then it doesn't fit
        break;
      }
    }

    if (ok) { //If it fits, place th letters and mark as placed
      for (let i = 0; i < word.length; i++) {
        grid[r0 + dr * i][c0 + dc * i] = word[i];
      }
      placed = true;
    }
  }
}

words.forEach(placeWord); //Place all the words

for (let r = 0; r < size; r++) {
  for (let c = 0; c < size; c++) {
    if (!grid[r][c]) { //If a cell is empty, place a random letter
      grid[r][c] = String.fromCharCode(65 + Math.random() * 26);
    }
  }
}

/* ================= RENDER ================= */

const table = document.getElementById("grid"); // Get table element

grid.forEach((row, r) => { // Run through each row
  const tr = document.createElement("tr"); // Create a table row

  row.forEach((ch, c) => { // Run through each column of some row
    const td = document.createElement("td"); // Create a column row 

    td.textContent = ch; // Put character inside
    td.dataset.row = r; // Store row index
    td.dataset.col = c; // Store column index 
    td.draggable = false; // Disable native dragging
    tr.appendChild(td); // Add cell to row
  });
  table.appendChild(tr); // Add row to table
});

const wordList = document.getElementById("wordList"); // Get list
words.forEach((w, index) => {
  const li = document.createElement("li"); // Create list item
  
  const clueSpan = document.createElement("span"); // Create clue text
  clueSpan.className = "clue-text"; // Add class
  clueSpan.textContent = clues[index]; // Set clue text
  clueSpan.dataset.word = w; // Store word for reveal
  
  const revealBtn = document.createElement("button"); // Create reveal button
  revealBtn.className = "reveal-btn"; // Add class
  revealBtn.textContent = "Reveal"; // Button text
  revealBtn.onclick = () => revealWord(w, clueSpan, revealBtn); // Add click handler
  
  li.appendChild(clueSpan); // Add clue to list item
  li.appendChild(revealBtn); // Add button to list item
  li.id = w; // Set ID
  wordList.appendChild(li); // Add to list
});

/* ================= SELECTION (STABLE) ================= */

let startCell = null; // Cell where drag started
let direction = null; // Locked direction
let selected = []; // Selected cells in drag
let isDragging = false; // Drag state

document.addEventListener("dragstart", e => e.preventDefault()); // Prevent native drag behavior completely


table.addEventListener("mousedown", e => { //Check for mouse pressed
  // Basically initialize the drag
  if (e.target.tagName !== "TD" || !gameStarted) return; //Only allow cells to be pressed if game started
  e.preventDefault(); //Prevent browser drag

  clearSelection(); //Clear previous selection
  startCell = e.target; //Set start cell
  selected = [startCell]; 
  startCell.classList.add("selected"); 
  isDragging = true; 
});


document.addEventListener("mousemove", e => { // When the mouse moves
  if (!isDragging) return; // Only if dragging
  e.preventDefault(); // Only allow cells to be highlighted

  const cell = document.elementFromPoint(e.clientX, e.clientY); //Cell under the mouse
  if (!cell || cell.tagName !== "TD") return; // Ignore invalid targets

  const r0 = +startCell.dataset.row; // Start row
  const c0 = +startCell.dataset.col; // Start col
  const r1 = +cell.dataset.row; // Current row
  const c1 = +cell.dataset.col; // Current col

  const dRow = r1 - r0; // Row distance
  const dCol = c1 - c0; // Column distance

  const absRow = Math.abs(dRow); // Absolute row distance
  const absCol = Math.abs(dCol); // Absolute column distance 

  if (!direction) { // If not locked yet, wait for movement
    if (absRow + absCol < 2) return; 

    if (Math.abs(absRow - absCol) <= 1) {  // Diagonal
      direction = [Math.sign(dRow), Math.sign(dCol)];
    } else if (absCol > absRow) { // Horizontal
      direction = [0, Math.sign(dCol)];
    } else { // Vertical
      direction = [Math.sign(dRow), 0];
    }
  }

  clearSelection(); // Clear previous highlights

  const [dr, dc] = direction; // Direction components

  let steps; // Number of highlighted cells
  if (dr !== 0 && dc !== 0) { // If diagonal
    steps = Math.min(absRow, absCol); // Take the shortest axis
  } else { // If horizontal or vertical
    steps = Math.max(absRow, absCol); // Take the full distance
  }

  for (let i = 0; i <= steps; i++) { //Loop through each step
    const r = r0 + dr * i; // Row
    const c = c0 + dc * i; // Column
    if (r < 0 || c < 0 || r >= size || c >= size) break; //Check grid bounds, break if out of bounds

    const td = document.querySelector( // Get the HTML cell
      `td[data-row='${r}'][data-col='${c}']` 
    );
    td.classList.add("selected"); // Hightlight cell
    selected.push(td); // Save it for word checking later
  }
});

document.addEventListener("mouseup", () => { // Mouse released, check word and stop dragging
  if (isDragging) { 
    checkWord();
    isDragging = false;
    direction = null;
  }
});

/* ================= WORD CHECK ================= */

function revealWord(word, clueSpan, button) { // Reveal word from clue
  if (!gameStarted) return; // Only allow if game started
  
  clueSpan.innerHTML = `${clues[words.indexOf(word)]} â†’ <span class="word-revealed">${word}</span>`; // Show word
  button.disabled = true; // Disable button
  revealedCount++; // Increment revealed count
}

function clearSelection() { // Clear selected letters
  selected.forEach(c => c.classList.remove("selected"));
  selected = [];
}

function checkWord() { // Check if a word was found
  const word = selected.map(c => c.textContent).join(""); // Build word
  const rev = word.split("").reverse().join(""); // Reverse word

  if (words.includes(word) || words.includes(rev)) { // If valid
    selected.forEach(c => c.classList.add("found")); // Mark found

    const el = document.getElementById(word) || document.getElementById(rev); // Word list item
    if (el && !el.classList.contains("found-word")) { // If not already found
      el.classList.add("found-word"); // Mark found
      foundCount++; // Increase count of found words

      if (foundCount === words.length) { // If all found
        clearInterval(timerInterval); // Stop timer
        showVictoryModal(); // Show victory modal instead of alert
      }
    }
  } else { // If invalid word
    clearSelection(); 
  }
}

function showVictoryModal() { // Display victory modal
  const modal = document.getElementById("victoryModal"); // Get modal element
  const victoryTime = document.getElementById("victoryTime"); // Get time display
  const m = String(Math.floor(seconds / 60)).padStart(2, "0"); // Format minutes
  const s = String(seconds % 60).padStart(2, "0"); // Format seconds
  victoryTime.textContent = `Time: ${m}:${s}`; // Set time text
  modal.style.display = "block"; // Show modal
}
</script> <!-- End JavaScript -->

</body> <!-- End body -->
</html> <!-- End HTML -->